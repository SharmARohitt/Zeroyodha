# Server Configuration
PORT=3000
NODE_ENV=development

# Firebase Admin SDK Configuration
# Download service account JSON from Firebase Console > Project Settings > Service Accounts
# Then either:
# 1. Set path to the JSON file:
FIREBASE_ADMIN_SERVICE_ACCOUNT_PATH=./serviceAccountKey.json
# OR
# 2. Set the JSON content as string (for Render deployment):
# FIREBASE_ADMIN_SERVICE_ACCOUNT={"type":"service_account","project_id":"..."}

# Firebase Project Configuration
FIREBASE_PROJECT_ID=wealth-warrior

# ============================================================================
# DHAN API CONFIGURATION
# ============================================================================

# Direct API Integration
DHAN_CLIENT_ID=your_dhan_client_id_here
DHAN_ACCESS_TOKEN=your_dhan_access_token_here
DHAN_API_BASE_URL=https://api.dhan.co/v2

# OAuth 2.0 Configuration (for user authorization)
# Get these from Dhan Dashboard > Settings > OAuth
DHAN_CLIENT_SECRET=your_dhan_client_secret_here
DHAN_OAUTH_URL=https://api.dhan.co/v2/oauth/authorize
DHAN_TOKEN_URL=https://api.dhan.co/v2/oauth/token
DHAN_OAUTH_CALLBACK_URL=http://localhost:3000/api/auth/dhan/callback

# Webhook Security
# Generate webhook secret in Dhan Dashboard > Webhooks
DHAN_WEBHOOK_SECRET=your_dhan_webhook_secret_here
# (Optional) Whitelist Dhan webhook IPs - comma-separated
DHAN_WEBHOOK_IPS=203.0.113.1,203.0.113.2

# ============================================================================
# FRONTEND CONFIGURATION (For OAuth Redirects)
# ============================================================================

# Backend URL (used in OAuth redirects)
BACKEND_URL=http://localhost:3000

# Frontend URLs (used for OAuth redirects back to app)
FRONTEND_URL=exp://192.168.1.100:8081
FRONTEND_OAUTH_REDIRECT=exp://192.168.1.100:8081

# ============================================================================
# SECURITY CONFIGURATION
# ============================================================================

# CORS Configuration (comma-separated allowed origins)
ALLOWED_ORIGINS=http://localhost:8081,exp://192.168.1.100:8081

# Rate Limiting
API_RATE_LIMIT_WINDOW_MS=900000
API_RATE_LIMIT_MAX_REQUESTS=100
